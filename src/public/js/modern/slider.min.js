(function(a){a.slider=function(c,e){var m={initValue:0,accuracy:1};var f=this;f.settings={};var p=a(c);var n,k,v,g,j,q,w,r,s,b=false;f.init=function(){f.settings=a.extend({},m,e);n=a('<div class="complete"></div>');k=a('<div class="marker"></div>');n.appendTo(p);k.appendTo(p);b=p.hasClass("vertical");d();v=o(f.settings.initValue);i(v);k.on("mousedown",function(x){x.preventDefault();l(x)});p.on("mousedown",function(x){x.preventDefault();l(x)})};var o=function(x){var y=f.settings.accuracy;if(y===0){return x}if(x===100){return 100}x=Math.floor(x/y)*y+Math.round(x%y/y)*y;if(x>100){return 100}return x};var h=function(x){var y;y=x*r;return o(y)};var u=function(x){if(r===0){return 0}return x/r};var i=function(z){var x,y;if(b){x=u(z)+s;y=g-x;k.css("top",y);n.css("height",x)}else{x=u(z);k.css("left",x);n.css("width",x)}};var l=function(x){a(document).on("mousemove.sliderMarker",function(y){t(y)});a(document).on("mouseup.sliderMarker",function(){a(document).off("mousemove.sliderMarker");a(document).off("mouseup.sliderMarker");p.data("value",v);p.trigger("changed",[v])});d();t(x)};var d=function(){if(b){g=p.height();j=p.offset().top;s=k.height()}else{g=p.width();j=p.offset().left;s=k.width()}r=100/(g-s);q=s/2;w=g-s/2};var t=function(z){var A,x,y;if(b){A=z.pageY-j}else{A=z.pageX-j}if(A<q){A=q}else{if(A>w){A=w}}if(b){y=g-A-s/2}else{y=A-s/2}x=h(y);i(x);v=x;p.trigger("change",[v])};f.val=function(x){if(typeof x!=="undefined"){v=o(x);i(v);return v}else{return v}};f.init()};a.fn.slider=function(b){return this.each(function(){if(undefined==a(this).data("slider")){var c=new a.slider(this,b);a(this).data("slider",c)}})}})(jQuery);$(window).ready(function(){var a=$("[data-role=slider], .slider");a.each(function(b,c){var d={};$slider=$(c);d.initValue=$slider.data("paramInitValue");d.accuracy=$slider.data("paramAccuracy");$slider.slider(d)})});