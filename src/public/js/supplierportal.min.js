!function($){!function(e,i){e.doReject=function(){return i.reject({reject:{msie5:!0,msie6:!0,msie7:!0,msie8:!0,konqueror:!0,opera7:!0,opera8:!0,opera9:!0,safari2:!0,safari3:!0,firefox1:!0,firefox2:!0,unknown:!1,win:!1,mac:!1,iphone:!1,linux:!1,solaris:!0},beforeReject:function(){("iphone"===i.os.name||"ipad"===i.os.name||"unknown"===i.os.name)&&(this.reject={all:!1})},close:!1,paragraph1:"You will not be able to close this window.",paragraph2:'To exit, you must <a href="javascript:window.location=window.location.pathname;">refresh the page</a> or upgrade your browser.'}),!1},e.reverse=function(e){for(var i="",t=e.length-1;t>=0;t--)i+=e[t]
return i},e.capitalize=function(e){{var i=e.substring(0,e.indexOf("@"))
e.substring(e.indexOf("@")+1)}t=e,i.indexOf(".")>=0&&(i=i.replace("."," "))
var t=i.toLowerCase().replace(/(^| )(\w)/g,function(e){return e.toUpperCase()})+""
return t},e.replaceAll=function(e,i,t){for(;-1!=e.indexOf(i);)e=e.replace(i,t)
return e},e.cleanField=function(i){return i=e.replaceAll(i,'"',""),i=e.replaceAll(i,"\\",""),i=e.replaceAll(i,"/","")},e.showHideEmailMsg=function(e,t,n){e?t?(i(n).removeClass("smallWeek").addClass("smallStrong"),i(n).text("Valid email syntax")):(i(n).removeClass("smallStrong").addClass("smallWeek"),i(n).text("Free email accounts are not allowed, sorry")):(i(n).removeClass("smallStrong").addClass("smallWeek"),i(n).text("Invalid email syntax"))},e.cStrengthPwdStrength=function(t,n){var s=e.checkStrength(t)
s.indexOf("Weak")>=0?i(n).removeClass("smallText").removeClass("smallTooShort").removeClass("smallGood").removeClass("smallStrong").addClass("smallWeek"):s.indexOf("Too short")>=0?i(n).removeClass("smallText").removeClass("smallWeek").removeClass("smallGood").removeClass("smallStrong").addClass("smallTooShort"):s.indexOf("Good")>=0?i(n).removeClass("smallText").removeClass("smallWeek").removeClass("smallTooShort").removeClass("smallStrong").addClass("smallGood"):s.indexOf("Strong")>=0&&i(n).removeClass("smallText").removeClass("smallWeek").removeClass("smallTooShort").removeClass("smallGood").addClass("smallStrong"),i(n).text(s)},e.cStrengthPwdRetypeStrength=function(t,n){var s=e.checkStrength(t)
s.indexOf("Weak")>=0?i(n).removeClass("smallText").removeClass("smallTooShort").removeClass("smallGood").removeClass("smallStrong").addClass("smallWeek"):s.indexOf("Too short")>=0?i(n).removeClass("smallText").removeClass("smallWeek").removeClass("smallGood").removeClass("smallStrong").addClass("smallTooShort"):s.indexOf("Good")>=0?i(n).removeClass("smallText").removeClass("smallWeek").removeClass("smallTooShort").removeClass("smallStrong").addClass("smallGood"):s.indexOf("Strong")>=0&&i(n).removeClass("smallText").removeClass("smallWeek").removeClass("smallTooShort").removeClass("smallGood").addClass("smallStrong"),i(n).text(s)},e.dec=function(e){var t=""
return i.ajax({url:"/k4e79e72Fe9ZWgcCaexsd7azLd",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"txt="+e,success:function(e){t=e},error:function(){}}),t},e.validateFreeEmail=function(e){var i=RegExp(/(aol|googlemail|msn|gmail|live|yahoo|outlook|hotmail)/)
return i.test(e)},e.validateEmail=function(e){var i=RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i)
return i.test(e)},e.checkStrength=function(e){var t=0,n=""
return e.length<6&&(i("#result").removeClass(),i("#result").addClass("short"),n="Too short"),e.length>7&&(t+=1),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=1),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(t+=1),e.match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(t+=1),e.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,",%,&,@,#,$,^,*,?,_,~])/)&&(t+=1),2>t?(i("#result").removeClass(),i("#result").addClass("weak"),n="Weak"):2===t?(i("#result").removeClass(),i("#result").addClass("good"),n="Good"):(i("#result").removeClass(),i("#result").addClass("strong"),n="Strong"),n}}(window.gb=window.gb||{},window.jQuery),function(e,i,t,n){var s=!1,a=[],o=[],r=[],l={cStrengthSignupPwdStrength:function(i){e.cStrengthPwdStrength(i,"#signupPwdStrength")},cStrengthSignupPwdRetypeStrength:function(i){e.cStrengthPwdRetypeStrength(i,"#signupPwdRetypeStrength")},hideSignupUserNotFoundOnKey:function(){t("#signupUserExistsDiv").is(":visible")&&t("#signupUserExistsDiv").hide()},hideSignupUserExceptionOnKey:function(){t("#signupUserException").is(":visible")&&t("#signupUserException").hide()},hideAllSignupMesssages:function(){l.hideSignupUserNotFoundOnKey(),l.hideSignupUserExceptionOnKey()},clearFields:function(){t("#signupfirstName").val(""),t("#signuplastName").val(""),t("#signupUserName").val(""),t("#signupPassword").val(""),t("#signupPasswordRetyped").val("")},ShowValidEmailMsg:function(){t("#signupEmailValid").removeClass("smallWeek").addClass("smallStrong"),t("#signupEmailValid").text("Valid email syntax")},ShowInvalidEmailMsg:function(){t("#signupEmailValid").removeClass("smallStrong").addClass("smallWeek"),t("#signupEmailValid").text("Invalid email syntax")},ShowInvalidFreeMsg:function(){t("#signupEmailValid").removeClass("smallStrong").addClass("smallWeek"),t("#signupEmailValid").text("Free email accounts are not allowed, sorry")},isApproved:function(e){var i=!1
if(a!==n&&a.length>0)for(var t=0;t<a.length;t++)if(e.toLowerCase().indexOf(a[t].toLowerCase())>=0){i=!0
break}return i},notApprovedMsg:function(){t("#signupEmailValid").removeClass("smallStrong").addClass("smallWeek"),t("#signupEmailValid").text("This email has not yet been invited to the service, sorry")},isSupplierEmail:function(e){var i=!0,n=e.substring(e.indexOf("@")+1)
return t.inArray(n,r)<0&&(i=!1),i},isAdminEmail:function(e){var i=!0,n=e.substring(e.indexOf("@")+1)
return t.inArray(n,o)<0&&(i=!1),i},showInvalidSupplierEmailMsg:function(){t("#signupEmailValid").removeClass("smallStrong").addClass("smallWeek"),t("#signupEmailValid").text("This is not a pre-approved supplier email")},showInvalidAdminEmailMsg:function(){t("#signupEmailValid").removeClass("smallStrong").addClass("smallWeek"),t("#signupEmailValid").text("This is not a pre-approved admin email")},ShowOrHideEmailMsg:function(){""!==t("#signupUserName").val()?(l.ValidEmail()?l.isApproved(t("#signupUserName").val())?t("#SignUpTitle").text().indexOf("Supplier")>=0?l.isSupplierEmail(t("#signupUserName").val())?l.ShowValidEmailMsg():l.showInvalidSupplierEmailMsg():l.isAdminEmail(t("#signupUserName").val())?l.ShowValidEmailMsg():l.showInvalidAdminEmailMsg():l.notApprovedMsg():l.ShowInvalidEmailMsg(),l.ValidFreeMail()||l.ShowInvalidFreeMsg()):t("#signupEmailValid").text("")},NotEmpty:function(){return""!==t("#signupfirstName").val()&&""!==t("#signupUserName").val()&&""!==t("#signuplastName").val()&&""!==t("#signupPassword").val()&&""!==t("#signupPasswordRetyped").val()?!0:!1},ShowSignUpBtn:function(){t("#signupButtonEnabled").removeAttr("disabled").removeClass("standart bg-color-gray").addClass("standart default bg-color-blue")},HideSignUpBtn:function(){t("#signupButtonEnabled").attr("disabled","").removeClass("standart default bg-color-blue").addClass("standart bg-color-gray")},ShowHidePwdNoMatch:function(){""===t("#signupPassword").val()&&""===t("#signupPasswordRetyped").val()?t("#signupPwdNoMatch").text(""):l.PwdNoMatch()?(t("#signupPwdNoMatch").text("Passwords match"),t("#signupPwdNoMatch").removeClass("smallText").removeClass("smallWeek").addClass("smallStrong")):(t("#signupPwdNoMatch").text("Passwords do not match"),t("#signupPwdNoMatch").removeClass("smallText").removeClass("smallStrong").addClass("smallWeek"))},PwdNoMatch:function(){return t("#signupPassword").val()===t("#signupPasswordRetyped").val()?!0:!1},ValidFreeMail:function(){return!e.validateFreeEmail(t("#signupUserName").val())},ValidEmail:function(){return e.validateEmail(t("#signupUserName").val())},ShowOrHideBth:function(){l.NotEmpty()&&l.PwdNoMatch()&&l.ValidFreeMail()&&l.ValidEmail()&&l.isApproved(t("#signupUserName").val())?l.ShowSignUpBtn():l.HideSignUpBtn()},ClearPwds:function(){t("#signupPassword").val(""),t("#signupPasswordRetyped").val(""),t("#signupPwdStrength").text(""),t("#signupPwdRetypeStrength").text(""),t("#signupPwdNoMatch").text("")},ClearUserAndPwds:function(){l.ClearPwds(),t("#signupUserName").val(""),t("#signupEmailValid").text("")},unhandledSignupException:function(){s=!1,t("#signupUserException").show().delay(10500).fadeOut("slow",function(){}),l.ClearUserAndPwds(),l.HideSignUpBtn(),t("#signupfirstName").focus()},SignupActivation:function(){s=!1,l.initSignupDiv(),l.HideSignUpBtn(),window.location.href="#/signupactivation"},SignupPendingApproval:function(){s=!1,l.initSignupDiv(),l.HideSignUpBtn(),window.location.href="#/signuppending"},SignupFailedMsg:function(){s=!1,t("#signupUserExistsDiv").show().delay(10500).fadeOut("slow",function(){}),l.ClearUserAndPwds(),l.HideSignUpBtn(),t("#signupfirstName").focus()},getAList:function(){t.getJSON("k4e2550htyjrtyj4345435/alist",function(e){a=[],t.each(e,function(e){a.push(e)})})},getAdminsList:function(){t.getJSON("k4e2550htyjrtyj4345435/adminslist",function(e){o=[],r=[],t.each(e,function(e,i){var n=i.substring(i.indexOf("@")+1)
t.inArray(n,o)<0&&o.push(n),t.inArray(e,r)<0&&r.push(e)})})},initSignupDiv:function(){l.hideAllSignupMesssages(),l.clearFields(),l.ClearUserAndPwds(),l.getAList(),l.getAdminsList(),t("#signupfirstName").focus()},signupBtnClick:function(){if(l.NotEmpty()&&l.PwdNoMatch()&&l.ValidFreeMail()&&l.ValidEmail()&&!s){s=!0,l.HideSignUpBtn()
var e=t("#signupfirstName").val(),i=t("#signuplastName").val(),n=t("#signupUserName").val(),a=t("#signupPassword").val()
t.ajax({url:"/kChUTqbUjO2DtKgXLG4LIjzzLd",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"txt="+escape(a),success:function(s){var a=s,o=t("#SignUpTitle").text()
if(o.trim().indexOf("Admin Sign Up")>=0){var r="fn="+escape(e)+"&ln="+escape(i)+"&un="+escape(n)+"&pwd="+escape(a)+"&to="+escape(n)
t.ajax({url:"/signup/do",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:r,success:function(e){var i=JSON.stringify(e)
i.indexOf("signup OK")>=0?l.SignupActivation():i.indexOf("already exists")>=0?l.SignupFailedMsg():l.unhandledSignupException()},error:function(){l.unhandledSignupException()}})}else t.ajax({url:"/adminforusers",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"un="+escape(n),success:function(s){var o=s,r="adminEmail="+escape(o)+"&fn="+escape(e)+"&ln="+escape(i)+"&un="+escape(n)+"&pwd="+escape(a)+"&to="+escape(n)
t.ajax({url:"/usersignup/do",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:r,success:function(e){var i=JSON.stringify(e)
i.indexOf("signup OK")>=0?l.SignupPendingApproval():i.indexOf("already exists")>=0?l.SignupFailedMsg():l.unhandledSignupException()},error:function(){l.unhandledSignupException()}})},error:function(){l.unhandledSignupException()}})},error:function(){l.unhandledSignupException()}})}return!1}}
i.initSignupDiv=function(){l.initSignupDiv()},t("#signupButtonEnabled").click(function(){return l.signupBtnClick(),!1}),t("#signupPassword").keyup(function(e){13!==e.which&&l.hideAllSignupMesssages(),l.ShowOrHideBth(),l.ShowHidePwdNoMatch(),""!==t("#signupPassword").val()?l.cStrengthSignupPwdStrength(t("#signupPassword").val()):t("#signupPwdStrength").text("")}),t("#signupPasswordRetyped").keyup(function(e){13!==e.which&&l.hideAllSignupMesssages(),l.ShowOrHideBth(),l.ShowHidePwdNoMatch(),""!==t("#signupPasswordRetyped").val()?l.cStrengthSignupPwdRetypeStrength(t("#signupPasswordRetyped").val()):t("#signupPwdRetypeStrength").text("")}),t("#signupPassword").focusout(function(){""!==t("#signupPassword").val()?l.cStrengthSignupPwdStrength(t("#signupPassword").val()):t("#signupPwdStrength").text("")}),t("#signupPasswordRetyped").focusout(function(){""!==t("#signupPasswordRetyped").val()?l.cStrengthSignupPwdRetypeStrength(t("#signupPasswordRetyped").val()):t("#signupPwdRetypeStrength").text("")}),t("#signupfirstName").keypress(function(e){13===e.which&&""!==t("#signupfirstName").val()&&t("#signuplastName").focus()}),t("#signupfirstName").keyup(function(e){13!==e.which&&l.hideAllSignupMesssages(),l.ShowOrHideBth()}),t("#signuplastName").keypress(function(e){13===e.which&&""!==t("#signuplastName").val()&&t("#signupUserName").focus()}),t("#signupfirstName").on("input",function(){l.hideAllSignupMesssages(),l.ShowOrHideBth()}),t("#signuplastName").keyup(function(e){13!==e.which&&l.hideAllSignupMesssages(),l.ShowOrHideBth()}),t("#signuplastName").on("input",function(){l.hideAllSignupMesssages(),l.ShowOrHideBth()}),t("#signupUserName").keypress(function(e){13===e.which&&""!==t("#signupUserName").val()&&t("#signupPassword").focus()}),t("#signupUserName").on("input",function(){l.hideAllSignupMesssages(),l.ShowOrHideBth()}),t("#signupUserName").keyup(function(e){13!==e.which&&l.hideAllSignupMesssages(),l.ShowOrHideEmailMsg(),l.ShowOrHideBth()}),t("#signupUserName").focusout(function(){l.ShowOrHideEmailMsg()
var i=t("#signupUserName").val()
i=e.cleanField(i),t("#signupUserName").val(i.toLowerCase())}),t("#signupPassword").keypress(function(e){13===e.which&&""!==t("#signupPassword").val()&&t("#signupPasswordRetyped").focus()}),t("#signupPasswordRetyped").keypress(function(e){13===e.which&&l.NotEmpty()&&l.isApproved(t("#signupUserName").val())&&t("#signupButtonEnabled").trigger("click")})}(window.gb,window.signup=window.signup||{},window.jQuery),function(e,i){var t=null,n="",s={showLoginButton:function(){i("#loginButtonEnabled").removeAttr("disabled").removeClass("standart bg-color-gray").addClass("standart default bg-color-blue")},hideLoginButton:function(){i("#loginButtonEnabled").attr("disabled","").removeClass("standart default bg-color-blue").addClass("standart bg-color-gray")},hideLoginMessages:function(){i("#loginUserNotFoundDiv").hide(),i("#loginUserException").hide()},hideLoginUserNotFoundOnKey:function(){i("#loginUserNotFoundDiv").is(":visible")&&i("#loginUserNotFoundDiv").hide()},hideLoginUserExceptionOnKey:function(){i("#loginUserException").is(":visible")&&i("#loginUserException").hide()},hideAllLoginMesssages:function(){s.hideLoginUserNotFoundOnKey(),s.hideLoginUserExceptionOnKey()},enableControlsByDiv:function(){i("#logindiv").is(":visible")&&(s.hideLoginButton(),s.hideLoginMessages())},clearLoginFields:function(){t=i.cookie("splgrm"),null===t&&i("#loginUserName").val(""),i("#loginPassword").val("")},userNotFound:function(){i("#loginUserNotFoundDiv").show().delay(10500).fadeOut("slow",function(){}),s.clearLoginFields(),s.hideLoginButton(),i("#LoginRememberMe").attr("checked")?s.showCheckedRememberMe():s.showUncheckedRememberMe(),i("#loginUserName").focus()},unhandledLoginException:function(){i("#loginUserException").show().delay(10500).fadeOut("slow",function(){}),s.clearLoginFields(),s.hideLoginButton(),i("#LoginRememberMe").attr("checked")?s.showCheckedRememberMe():s.showUncheckedRememberMe(),i("#loginUserName").focus()},showUncheckedRememberMe:function(){i("#LoginRememberMe").removeAttr("checked"),i("#LoginRememberMe").removeAttr("value")},showCheckedRememberMe:function(){i("#LoginRememberMe").attr("checked","1"),i("#LoginRememberMe").attr("value","1")},initCheckBoxes:function(){s.showUncheckedRememberMe()},get_splgrm:function(){t=i.cookie("splgrm"),null!==t&&i("#loginUserName").val(t)},getCheckboxesStatus:function(){null===t&&(t=i.cookie("splgrm")),null===t?s.showUncheckedRememberMe():s.showCheckedRememberMe()},createRememberMe:function(){i.cookie("splgrm",i("#loginUserName").val(),{expires:30,path:"/"})},removeRememberMe:function(){i.removeCookie("splgrm",i("#loginUserName").val(),{expires:30,path:"/"})},loginCkie:function(e){i.cookie("splgckie",unescape(e),{expires:1,path:"/"})},LoggedIn:function(e){s.clearLoginFields(),s.hideLoginButton(),s.loginCkie(e),window.location.href="#/portal"},createCkies:function(){i("#LoginRememberMe").attr("checked")?s.createRememberMe():s.removeRememberMe()},initLoginDiv:function(){s.clearLoginFields(),s.hideLoginButton(),s.get_splgrm(),s.getCheckboxesStatus(),s.hideLoginUserNotFoundOnKey(),s.hideLoginUserExceptionOnKey(),i("#loginUserName").focus(),s.kEmMsg()},NotRemembering:function(){if(""!==i("#loginUserName").val()&&""!==i("#loginPassword").val()){var e=i("#loginPassword").val()
s.hideLoginButton(),i.ajax({url:"/kChUTqbUjO2DtKgXLG4LIjzzLd",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"txt="+escape(e),success:function(e){var t=e,n=i("#loginUserName").val()
s.createCkies(),i.ajax({url:"/login/do",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"un="+escape(n)+"&pwd="+escape(t),success:function(e){var i=JSON.stringify(e)
i.indexOf("found OK")>=0?s.LoggedIn(n):s.userNotFound()},error:function(){s.unhandledLoginException()}})},error:function(){s.unhandledLoginException()}})}return!1},loginBtnClick:function(){return s.NotRemembering(),!1},kEmMsg:function(){if(""!==i("#loginUserName").val()){var e=gb.validateEmail(i("#loginUserName").val()),t=!gb.validateFreeEmail(i("#loginUserName").val())
s.showHideEmailMsg(e,t)}else i("#loginEmailMsg").text("")},kUp:function(e){s.kEmMsg(),13!==e.which&&s.hideAllLoginMesssages(),""!==i("#loginUserName").val()&&""!==i("#loginPassword").val()?s.showLoginButton():s.hideLoginButton()},kInput:function(){s.kEmMsg(),s.hideAllLoginMesssages(),""!==i("#loginUserName").val()&&""!==i("#loginPassword").val()?s.showLoginButton():s.hideLoginButton()},showHideEmailMsg:function(e,t){"radkiddo"!==i("#loginUserName").val()?gb.showHideEmailMsg(e,t,"#loginEmailMsg"):i("#loginEmailMsg").text("")}}
i("#loginUserName").focusout(function(){var e=i("#loginUserName").val()
e=gb.cleanField(e),i("#loginUserName").val(e.toLowerCase())}),i("#loginUserName").keyup(function(e){s.kUp(e),13===e.which&&""!==i("#loginUserName").val()&&i("#loginPassword").focus()}),i("#loginUserName").on("input",function(){s.kInput()}),i("#LoginRememberMe").click(function(){i("#LoginRememberMe").attr("checked")?(i("#LoginRememberMe").removeAttr("checked"),i("#LoginRememberMe").removeAttr("value","")):(i("#LoginRememberMe").attr("checked",""),i("#LoginRememberMe").attr("value","1"))}),i("#loginPassword").keyup(function(e){s.kUp(e),13===e.which&&""!==i("#loginUserName").val()&&""!==i("#loginPassword").val()&&i("#loginButtonEnabled").trigger("click")}),i("#loginButtonEnabled").click(function(){return s.loginBtnClick(),!1}),e.setDomain=function(e){n=e.substring(e.indexOf("@")+1)},e.getDomain=function(){return n},e.initLoginDiv=function(){s.initLoginDiv()}}(window.login=window.login||{},window.jQuery),function(login,portal,$,undefined){var registeredDomain="",registeredDomain2="",registeredViewerUrl=""
registeredImagesReceiveFolder="",registeredValidations="",registeredDataDomain=""
var currentPage=0,imageUrl="",activeApp="",eFlowApps=[],collectionsRaw=[],collectionsGrid=[],__SupplierData=[],__POs=[],__SupplierIdsPerUser=[],suppIds=[],suppNames=[],pos_perSp=[],supplierId="",supplierName="",selected_PoNum="",flip=!1,canEditFields=!1,validationFailed=!1,liveSync=!1,oTable=null,supAdminsList=[],adminsList=[],suppliersList=[],fieldsToValidate=[],submittedByList=[],timer
portal.cleanUpEFlowApps=function(){eFlowApps=[]}
var _p={getRegisteredDomains:function(){$.getJSON("/k4e2550htyjrtyj4345435/domains",function(e){$.each(e,function(e,i){"registeredValidations"===e?registeredValidations=i:"registeredDomain"===e?registeredDomain=i:"registeredDomain2"===e?registeredDomain2=i:"registeredViewerUrl"===e?registeredViewerUrl=i:"registeredImagesReceiveFolder"===e?registeredImagesReceiveFolder=i:"registeredDataDomain"===e&&(registeredDataDomain=i)})})},getAdminsList:function(){$.getJSON("/k4e2550htyjrtyj4345435/adminslist",function(e){supAdminsList=[],adminsList=[],suppliersList=[],$.each(e,function(e,i){var t=i.substring(i.indexOf("@")+1),n=e+"="+t
$.inArray(t,adminsList)<0&&adminsList.push(t),$.inArray(e,suppliersList)<0&&suppliersList.push(e),$.inArray(n,supAdminsList)<0&&supAdminsList.push(n)})})},initTable:function(e){$("#colleclist").html('<table cellpadding="2" cellspacing="2" border="0" class="hovered striped" id="collections-list"></table>'),oTable=$("#collections-list").dataTable({sDom:"<'row'<'span3'l>'row'<'span4'f>'row'r>t<'row'<'pagination'p>'row'<'span6'i>>",sPaginationType:"two_button",oLanguage:{sLengthMenu:"_MENU_ records per page"},iDisplayLength:10,aaData:e,aoColumnDefs:[{bVisible:!0,aTargets:[5]},{bVisible:!1,aTargets:[6]},{bVisible:!1,aTargets:[7]},{bVisible:!1,aTargets:[8]},{bVisible:!1,aTargets:[9]},{bVisible:!1,aTargets:[10]},{bVisible:!1,aTargets:[11]},{bVisible:!1,aTargets:[12]},{bVisible:!1,aTargets:[13]},{bVisible:!1,aTargets:[14]},{bVisible:!1,aTargets:[15]},{bVisible:!1,aTargets:[16]},{bVisible:!1,aTargets:[17]},{bVisible:!1,aTargets:[18]},{bVisible:!1,aTargets:[19]},{bVisible:!1,aTargets:[20]},{bVisible:!1,aTargets:[21]},{bVisible:!1,aTargets:[22]},{bVisible:!1,aTargets:[23]},{bVisible:!1,aTargets:[24]},{bVisible:!1,aTargets:[25]},{bVisible:!1,aTargets:[26]},{bVisible:!1,aTargets:[27]},{bVisible:!1,aTargets:[28]},{bVisible:!1,aTargets:[29]},{bVisible:!1,aTargets:[30]},{bVisible:!1,aTargets:[31]},{bVisible:!1,aTargets:[32]},{bVisible:!1,aTargets:[33]},{bVisible:!1,aTargets:[34]},{bVisible:!1,aTargets:[35]},{bVisible:!1,aTargets:[36]},{bVisible:!1,aTargets:[37]},{bVisible:!1,aTargets:[38]},{bVisible:!1,aTargets:[39]},{bVisible:!1,aTargets:[40]},{bVisible:!1,aTargets:[41]},{bVisible:!1,aTargets:[42]},{bVisible:!1,aTargets:[43]},{bVisible:!1,aTargets:[44]},{bVisible:!1,aTargets:[45]},{bVisible:!1,aTargets:[46]},{bVisible:!1,aTargets:[47]},{bVisible:!1,aTargets:[48]},{bVisible:!1,aTargets:[49]},{bVisible:!1,aTargets:[50]},{bVisible:!1,aTargets:[51]},{bVisible:!1,aTargets:[52]},{bVisible:!1,aTargets:[53]},{bVisible:!1,aTargets:[54]},{bVisible:!1,aTargets:[55]},{bVisible:!1,aTargets:[56]},{bVisible:!1,aTargets:[57]},{bVisible:!1,aTargets:[58]},{bVisible:!1,aTargets:[59]},{bVisible:!1,aTargets:[60]}],aoColumns:[{sTitle:"Date"},{sTitle:"Tracking No."},{sTitle:"Situation"},{sTitle:"eFlow Status"},{sTitle:"Via"},{sTitle:"Details"}]})},getCurrentTablePage:function(){var e=null
if(e=oTable.fnPagingInfo(),null!==e||e!==undefined){if(e.iFilteredTotal!==e.iTotal)return-1
if(e.iPage>0)return-1}return 0},updateTable:function(e){var i=$("#collections-list").dataTable()
null!==e&&e!==undefined&&e.length>0&&(i.fnClearTable(),i.fnAddData(e))},initPortalFrames:function(){$("#BatchesDoNotExist").show(),$("#PortalSideBar").hide(),$("#BatchesExist").hide()},showPortalFrames:function(){$("#BatchesDoNotExist").hide(),$("#PortalSideBar").show(),$("#BatchesExist").show()},getApps:function(e){if(0===eFlowApps.length){var i=[],t=[]
$.ajax({url:"/k4e2550htyjrtyj4345435/radkiddo/eafa/sp/efl/timgsys/api/p/sp/tbls",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},success:function(n){$.each(n,function(n,s){var a=JSON.stringify(s),o=a.split(",")
if($("#eFlowAppsList").html(""),o!==undefined&&o.length>0){o.sort()
for(var r=0;r<=o.length-1;r++){var l=o[r]
if(l=l.trim(),l.indexOf("__SupplierData")<0&&l.indexOf("__POs")<0&&l.indexOf("__SupplierIdsPerUser")<0&&l.indexOf(e)>=0){l=l.replace("[","").replace("{","").replace("]","").replace("}","").replace('"'+e+'":',"").replace('"',"").replace('"',"")
var d=login.getDomain()
if(l.toLowerCase().indexOf(d.toLowerCase())>=0){var u=l.substring(l.indexOf("_")+1)
if(l=l.trim(),u=u.trim(),u.indexOf("__SupplierData")<0&&u.indexOf("__POs")<0&&u.indexOf("__SupplierIdsPerUser")<0&&l!==undefined&&u!==undefined&&""!==l&&""!==u&&"undefined"!==l&&"undefined"!==u&&l.indexOf("__SupplierData")<0&&l.indexOf("__POs")<0&&l.indexOf("__SupplierIdsPerUser")<0){var p='<li class="bg-color-blueLight"><a href="">'+u+"</a></li>"
$.inArray(p,t)<0&&(i.push(l.trim()),t.push(p))}}}}}eFlowApps=i,i.length>0&&t.length>0?(i.sort(),t.sort(),eFlowApps.sort(),$("<ul>",{html:t.join("")}).appendTo("#eFlowAppsList"),_p.showPortalFrames(),""!==activeApp?_p.loadAppData(activeApp,!0):(_p.loadAppData(eFlowApps[0],!0),activeApp=eFlowApps[0],activeApp=activeApp.trim())):_p.initPortalFrames()})},error:function(){}})}},getFileName:function(e){if(e.indexOf(".tif")>=0||e.indexOf(".pdf")>=0){var i=gb.reverse(e)
return gb.reverse(i.substring(0,i.indexOf("|")))}return""},getSpecific:function(e){return e.substring(e.indexOf("=")+1)},getSpec:function(e,i){for(var t="",n=0;n<=e.length-1;n++){var s=e[n]
if(s.indexOf(i)>=0){t=_p.getSpecific(s)
break}}return t},canShow:function(e){var i=!1,t=e.toLowerCase(),n=login.getDomain()
return $.inArray(n,adminsList)>=0?i=!0:$.inArray(n,suppliersList)>=0&&t===n.toLowerCase()&&(i=!0),i},getArrayDisplayField:function(e,i){var t=[]
if(submittedByList=[],i.indexOf("|")>=0){var n=_p.getFileName(i),s=i.split("|")
if(s.length>0){var a="",o="",r="",l="",d="",u="",p="",c="",g="",f="",h="",v="",m="",w="",b="",S="",P="",x="",y="",O="",A="",_="",N="",D="",k="",C="",U="",E="",L="",T="",M="",F="",V="",R="",B="",I="",j="",H="",z="",W="",K="",J="",G="",q="",Q="",X="",Z="",Y="",ei="",ii="",ti="",ni="",si="",ai="",oi="",ri="",li="",di="",ui=_p.getSpec(s,"dc="),pi=_p.getSpec(s,"rc="),ci=_p.getSpec(s,"sb=")
if(""===ci&&(ci="eFlow"),_p.canShow(ci)){l=s[0],d=s[1],u=s[2],a=s[3],r=s[4],o="1"===s[5]?"Available":"Busy",p=null!==s[6]&&s[6]!==undefined?s[6]:"",c=null!==s[7]&&s[7]!==undefined?s[7]:"",g=null!==s[8]&&s[8]!==undefined?s[8]:"",f=null!==s[9]&&s[9]!==undefined?s[9]:"",h=null!==s[10]&&s[10]!==undefined?s[10]:"",v=null!==s[11]&&s[11]!==undefined?s[11]:"",m=null!==s[12]&&s[12]!==undefined?s[12]:"",w=null!==s[13]&&s[13]!==undefined?s[13]:"",b=null!==s[14]&&s[14]!==undefined?s[14]:"",S=null!==s[15]&&s[15]!==undefined?s[15]:"",P=null!==s[16]&&s[16]!==undefined?s[16]:"",x=null!==s[17]&&s[17]!==undefined?s[17]:"",y=null!==s[18]&&s[18]!==undefined?s[18]:"",O=null!==s[19]&&s[19]!==undefined?s[19]:"",A=null!==s[20]&&s[20]!==undefined?s[20]:"",_=null!==s[21]&&s[21]!==undefined?s[21]:"",N=null!==s[22]&&s[22]!==undefined?s[22]:"",D=null!==s[23]&&s[23]!==undefined?s[23]:"",k=null!==s[24]&&s[24]!==undefined?s[24]:"",C=null!==s[25]&&s[25]!==undefined?s[25]:"",U=null!==s[26]&&s[26]!==undefined?s[26]:"",E=null!==s[27]&&s[27]!==undefined?s[27]:"",L=null!==s[28]&&s[28]!==undefined?s[28]:"",T=null!==s[29]&&s[29]!==undefined?s[29]:"",M=null!==s[30]&&s[30]!==undefined?s[30]:"",F=null!==s[31]&&s[31]!==undefined?s[31]:"",V=null!==s[32]&&s[32]!==undefined?s[32]:"",R=null!==s[33]&&s[33]!==undefined?s[33]:"",B=null!==s[34]&&s[34]!==undefined?s[34]:"",I=null!==s[35]&&s[35]!==undefined?s[35]:"",j=null!==s[36]&&s[36]!==undefined?s[36]:"",H=null!==s[37]&&s[37]!==undefined?s[37]:"",z=null!==s[38]&&s[38]!==undefined?s[38]:"",W=null!==s[39]&&s[39]!==undefined?s[39]:"",K=null!==s[40]&&s[40]!==undefined?s[40]:"",J=null!==s[41]&&s[41]!==undefined?s[41]:"",G=null!==s[42]&&s[42]!==undefined?s[42]:"",q=null!==s[43]&&s[43]!==undefined?s[43]:"",Q=null!==s[44]&&s[44]!==undefined?s[44]:"",X=null!==s[45]&&s[45]!==undefined?s[45]:"",Z=null!==s[46]&&s[46]!==undefined?s[46]:"",Y=null!==s[47]&&s[47]!==undefined?s[47]:"",ei=null!==s[48]&&s[48]!==undefined?s[48]:"",ii=null!==s[49]&&s[49]!==undefined?s[49]:"",ti=null!==s[50]&&s[50]!==undefined?s[50]:"",ni=null!==s[51]&&s[51]!==undefined?s[51]:"",si=null!==s[52]&&s[52]!==undefined?s[52]:"",ai=null!==s[53]&&s[53]!==undefined?s[53]:"",oi=null!==s[54]&&s[54]!==undefined?s[54]:"",ri=null!==s[55]&&s[55]!==undefined?s[55]:"",li=null!==s[56]&&s[56]!==undefined?s[56]:"",di=null!==s[57]&&s[57]!==undefined?s[57]:""
var gi="",fi=!1
if("1"===s[5]?r.indexOf("REJECT")<0&&r.indexOf("PENDING")<0&&""!==n?(gi="1"===pi?r.toLowerCase().indexOf("sportalcompl")>=0?'<a href="'+n+'">Edit</a>':'<a href="'+n+'">View</a>':"sportalcompl"===r.toLowerCase()?'<a href="'+n+'">ReEdit</a>':'<a href="'+n+'">View</a>',"sportalcompl"===r.toLowerCase()?(fi=!0,r="1"===pi?"Check it":"Validated"):"sportalafter"===r.toLowerCase()?(fi=!0,r="Processed"):("sportalbefore"===r.toLowerCase()||"sportalimport"===r.toLowerCase())&&(fi=!0,r="Progress")):gi="N/A":gi="N/A",$.inArray(a,t)<0){var hi=""
hi=ci.indexOf(".")>0?ci.substring(0,ci.indexOf(".")):ci,"topimagesystems"===hi?hi="tis":"doksend"===hi&&(hi="dksend"),submittedByList.push(a+"|"+ci)
var vi=ui.replace("Monday","").replace("Tuesday","").replace("Wednesday","").replace("Thursday","").replace("Friday","").replace("Saturday","").replace("Sunday","")
t.push(vi,a,r,o,hi,gi,l,d,u,p,c,g,f,h,v,m,w,b,S,P,x,y,O,A,_,N,D,k,C,U,E,L,T,M,F,V,R,B,I,j,H,z,W,K,J,G,q,Q,X,Z,Y,ei,ii,ti,ni,si,ai,oi,ri,li,di)}}}}return 0===t.length&&(t=null),t},loadAppData:function(e,i){$.ajax({url:"/k4e2550htyjrtyj4345435/radkiddo/eafa/sp/efl/timgsys/api/p/sp/"+e.trim(),type:"POST",cache:!1,headers:{"cache-control":"no-cache"},success:function(t){collectionsRaw=[],collectionsGrid=[],$.each(t,function(e,i){if(i.length>0)for(var t=0;t<=i.length-1;t++){var n=i[t],s=n.strData,a=n.cln
collectionsRaw.push(s)
var o=_p.getArrayDisplayField(a,s)
null!==o&&collectionsGrid.push(o)}}),collectionsRaw.length>0&&collectionsGrid.length>0&&(i?_p.initTable(collectionsGrid):_p.updateTable(collectionsGrid)),$("#batchestag").text("Current batches for "+e.substring(e.indexOf("_")+1))},error:function(){}})},loadProcess:function(){0===eFlowApps.length&&(_p.initTable([]),_p.getApps("tName"))},getFields:function(e){var i=[]
if(null!==collectionsRaw&&collectionsRaw!==undefined&&collectionsRaw.length>0)for(var t=0;t<=collectionsRaw.length-1;t++){var n=collectionsRaw[t]
if(n.indexOf(e)>=0){var s=n.split("|")
if(null!==s&&s!==undefined&&s.length>0){var a=s[3]
if(a===e)for(var o=0;o<=s.length-1;o++){var r=s[o]
r.indexOf("=")>=0&&r.indexOf("rc")<0&&r.indexOf("dc")<0&&r.indexOf("sb")<0&&i.push(r)}}break}}return i},fieldToId:function(e){return e.replace(".","_").replace(" ","_")},numExists:function(e){for(var i=!1,t=0;t<=e.length-1;t++)if("1"==e[t]||"2"==e[t]||"3"==e[t]||"4"==e[t]||"5"==e[t]||"6"==e[t]||"7"==e[t]||"8"==e[t]||"9"==e[t]||"0"==e[t]){i=!0
break}return i},onForm:function(e,i){return e.toLowerCase().indexOf(i.toLowerCase())>=0?!0:!1},getFormNum:function(e){var i=-1,t=""
if(e.indexOf("_")>=0){e=e.substring(0,e.indexOf("_"))
for(var n=0;n<=e.length-1;n++)("1"==e[n]||"2"==e[n]||"3"==e[n]||"4"==e[n]||"5"==e[n]||"6"==e[n]||"7"==e[n]||"8"==e[n]||"9"==e[n]||"0"==e[n])&&(t+=e[n])}return""!==t?+t:i},containsForms:function(e){for(var i=!1,t=0;t<=e.length-1;t++){var n=e[t],s=n.substring(0,n.indexOf("=")),a=s.substring(0,n.indexOf("_"))
if(a.toLowerCase().indexOf("fp")>=0&&_p.numExists(a)){i=!0
break}}return i},sendPageNum:function(e,i){var t=new easyXDM.Socket({remote:registeredDomain+"viewer.php"})
if(e!==undefined){var n=registeredViewerUrl+"gview?url="+i+"&embedded=true"
t.postMessage(e+"|"+n)}},showFields:function(e,i){fieldsToValidate=[],$("#toggleFields").text(""),$("#fillDiv").removeClass("page fill").addClass("page full"),$("#snappedDiv").hide()
var t=_p.getFields(e)
if(null!==t&&t!==undefined&&t.length>0){if($("#fieldsListViewer1").html(""),_p.containsForms(t)){var n=0,s=[],a=[]
$("#fieldsListViewer2").html("")
for(var o=0;o<=t.length-1;o++){var r=t[o],l=r.substring(0,r.indexOf("=")),d=r.substring(r.indexOf("=")+1,r.length)
l=l.replace("$","__")
var n=_p.getFormNum(l)
$.inArray(n,s)<0&&(s.push(n),1===n?(a.push('<li class="active"><a href="">Page '+n+" fields</a><div>"),currentPage=1,_p.sendPageNum(currentPage,i)):a.push('<li><a href="">Page '+n+" fields</a><div>"))
var u=l.replace("_"," "),p="<h5>"+u.substring(u.indexOf(" ")+1)+'</h5><p><div id="fieldDiv" class="span4 input-control text"><input class="onlinefields" id="'+_p.fieldToId(l)+'" type="text" /></div></p>'
if(a.push(p),o+1<=t.length-1){var c=t[o+1],g=c.substring(0,c.indexOf("=")),f=_p.getFormNum(g)
f>n&&a.push("</div></li>")}}a.push("</div></li>"),$("<ul>",{html:a.join("")}).appendTo("#fieldsListViewer2"),$("#fieldsListViewer2 ul").addClass("accordion span5")
for(var o=0;o<=t.length-1;o++){var r=t[o],l=r.substring(0,r.indexOf("=")),d=r.substring(r.indexOf("=")+1,r.length)
l=l.replace("$","__"),$("#"+_p.fieldToId(l)).val(d),fieldsToValidate.push(l)}$("#fieldsListViewer1").hide(),$("#fieldsListViewer2").show()}else{for(var o=0;o<=t.length-1;o++){var r=t[o],l=r.substring(0,r.indexOf("=")),d=r.substring(r.indexOf("=")+1,r.length)
l=l.replace("$","__")
var p="<h5>"+l.replace("_"," ")+'</h5><p><div class="span4 input-control text"><input id="'+_p.fieldToId(l)+'" type="text" /></div></p>'
$("#fieldsListViewer1").append(p),$("#"+_p.fieldToId(l)).val(d),fieldsToValidate.push(l)}$("#fieldsListViewer2").hide(),$("#fieldsListViewer1").show()}$("#fillDiv").removeClass("page full").addClass("page fill"),$("#toggleFields").text("Hide Fields"),$("#snappedDiv").show()}else{var p="<br /><h4>No fields available.</h4>"
$("#fieldsListViewer1").append(p),$("#fieldsListViewer2").hide(),$("#fieldsListViewer1").show()}},showViewer:function(e){$("#portaldiv").hide()
var i=e.substring(e.indexOf("-")+1,e.length),t=i.replace(".tif","").replace(".pdf","")
$("#viewerCollection").text(t)
var n=registeredDomain+"viewer.php?burl="+e
imageUrl=e,$("#docViewer").attr("src",n),_p.sendPageNum(currentPage,e),_p.showFields(t,e),$("#viewerdiv").show()},hideViewer:function(){$("#viewerdiv").hide(),$("#portaldiv").show()},isLoggedIn:function(){var e=$.cookie("splgckie")
return null!==e&&e!==undefined?!0:!1},parseJsonResult:function(result){var jsonStr=JSON.stringify(result)
return eval("("+jsonStr+")")},loadSupplierData:function(e,i){if(""!==i){var t=registeredDataDomain
$.getJSON(t+"/k4e2550htyjrtyj4345435/radkiddo/eafa/sp/efl/timgsys/api/sp/"+i,function(e){var i=_p.parseJsonResult(e)
i!==undefined&&(__SupplierData=i.result),_p.loadPOsData(activeApp+"__POs")})}},loadPOsData:function(e){if(""!==e){var i=registeredDataDomain
$.getJSON(i+"/k4e2550htyjrtyj4345435/radkiddo/eafa/sp/efl/timgsys/api/sp/"+e,function(e){var i=_p.parseJsonResult(e)
i!==undefined&&(__POs=i.result),_p.loadSupplierIdsPerUser(activeApp+"__SupplierIdsPerUser")})}},loadSupplierIdsPerUser:function(e){if(""!==e){var i=registeredDataDomain
$.getJSON(i+"/k4e2550htyjrtyj4345435/radkiddo/eafa/sp/efl/timgsys/api/sp/"+e,function(e){var i=_p.parseJsonResult(e)
i!==undefined&&(__SupplierIdsPerUser=i.result),__SupplierData!==undefined&&__SupplierData.length>0&&__POs!==undefined&&__POs.length>0?(_p.emptySelectBoxes(),_p.loadSupplierPos(),_p.showHideSupplierInfo(!0)):(_p.emptySelectBoxes(),_p.emptySelectList("#uploadSuppliers"),_p.emptySelectList("#uploadPOs"),_p.showHideSupplierInfo(!0))})}},emptySelectList:function(e){var i=[],t=activeApp.substring(activeApp.indexOf("_")+1)
i.push('<option value="-1">No info available for '+t+"</option>"),$(e).html(i)},emptySelectBoxes:function(){$("#uploadSuppliers").empty(),$("#uploadPOs").empty()},idExistsInSupplierIdsPerUser:function(e,i){{var t=!1
activeApp.substring(activeApp.indexOf("_")+1)}if(0===__SupplierIdsPerUser.length)t=!0
else{for(var n=!1,s=0;s<=__SupplierIdsPerUser.length-1;s++){{var a=_p.parseJsonResult(__SupplierIdsPerUser[s])
a.StrData}if(a.strData!==undefined){var o=a.strData.substring(a.strData.indexOf("=")+1),r=a.strData.substring(0,a.strData.indexOf("="))
r.toLowerCase()===i.toLowerCase()&&(n=!0)
var l=[]
if(o.indexOf(",")>=0?l=o.split(","):l.push(o),l.length>0)for(var d=0;d<=l.length-1;d++){var u=l[d]
if(e===u&&i.toLowerCase().indexOf(r.toLowerCase())>=0){t=!0
break}}}}n||(t=!0)}return t},getSelectedSpId:function(){return $("#uploadSuppliers").find(":selected").val()},getSelectedSpName:function(){return $("#uploadSuppliers").find(":selected").text()},getSelectedPo:function(){return $("#uploadPOs").find(":selected").val()},setDropUrl:function(e,i,t){var n=$.cookie("splgckie"),s=e,a=t,o=i
s=_p.getSelectedSpId(),supplierId=s,o=_p.getSelectedSpName(),supplierName=o,a=_p.getSelectedPo(),selected_PoNum=a
var r=activeApp.substring(activeApp.indexOf("_")+1),l=registeredDomain2+"dropfiles.php?app="+r+"&dm="+login.getDomain()+"&spId="+s+"&spName="+o+"&poNum="+a+"&user="+n
$("#uploadViewer").attr("src",l)},loadSuppliers:function(e){for(var i=[],t=0;t<=__SupplierData.length-1;t++){var n=__SupplierData[t],s=n.strData,a=s.split("|")
if(a!==undefined&&a.length>2){var o=a[0],r=a[1],l=$.cookie("splgckie")
o=o.replace("id=",""),r=r.replace("name=",""),_p.idExistsInSupplierIdsPerUser(o,l)&&_p.supplierHasPo(o)&&i.push(r+"|"+o)}}i.sort(),suppIds=[],suppNames=[]
for(var d=[],u=0;u<=i.length-1;u++){var n=i[u],p=n.split("|")
d.push('<option value="'+p[1]+'">'+p[0]+"</option>"),suppIds.push(p[1]),suppNames.push(p[0])}d!==undefined&&d.length>0&&($("#uploadSuppliers").html(d),e&&_p.loadPOs4Supplier(suppIds[0],e))},supplierHasPo:function(e){for(var i=!1,t=0;t<=__POs.length-1;t++){var n=_p.parseJsonResult(__POs[t])
if(n.strData!==undefined){var s=n.strData.substring(0,n.strData.indexOf("=")),a=n.strData.substring(n.strData.indexOf("=")+1),o=[]
if(a.indexOf("|")>=0?o=a.split("|"):o.push(a),o.length>0&&e===s){i=!0
break}}}return i},loadPOs4Supplier:function(e){for(var i=0;i<=__POs.length-1;i++){var t=_p.parseJsonResult(__POs[i])
if(t.strData!==undefined){var n=t.strData.substring(0,t.strData.indexOf("=")),s=t.strData.substring(t.strData.indexOf("=")+1),a=[],o=[]
if(s.indexOf("|")>=0?a=s.split("|"):a.push(s),a.length>0&&e===n){pos_perSp=[]
for(var r=0;r<=a.length-1;r++)o.push('<option value="'+a[r]+'">'+a[r]+"</option>"),pos_perSp.push(a[r])
$("#uploadPOs").html(""),o.length>0?($("#uploadPOs").html(o),_p.enableDisableSubmitButton(!0)):(o.push('<option value="-1">No info available for '+n+"</option>"),$("#uploadPOs").html(o))}}}},enableDisableSubmitButton:function(e){e?($("#uploadSubmitBtnEnabled").prop("disabled",!1),$("#uploadSubmitBtnEnabled").removeClass("standart bg-color-gray fg-color-black").addClass("standart bg-color-blue fg-color-white")):($("#uploadSubmitBtnEnabled").prop("disabled",!0),$("#uploadSubmitBtnEnabled").removeClass("standart bg-color-blue fg-color-white").addClass("standart bg-color-gray fg-color-black"))},loadSupplierPos:function(){_p.loadSuppliers(!0)},showHideSupplierInfo:function(e){e?($("#uploadSuppliers").prop("disabled",!1),$("#uploadPOs").prop("disabled",!1)):($("#uploadSuppliers").prop("disabled",!0),$("#uploadPOs").prop("disabled",!0))},suppliersPOs:function(e){activeApp!==undefined&&""!==activeApp&&"undefined"!==activeApp&&(_p.showHideSupplierInfo(!1),_p.loadSupplierData(e,activeApp+"__SupplierData"))},supplierPoWin:function(e){_p.suppliersPOs(e)},getSpId:function(){return""!==supplierId?supplierId:suppIds[0]},getSpName:function(){return""!==supplierName?supplierName:suppNames[0]},getPoNum:function(){return""!==selected_PoNum?selected_PoNum:pos_perSp[0]},sendSubmitUpload:function(){flip||($("#dropzone1").hide(),$("#dropzone2").fadeIn(250)),_p.setDropUrl(suppIds[0],suppNames[0],pos_perSp[0]),timer.stop()
var e=activeApp.substring(activeApp.indexOf("_")+1),i=login.getDomain(),t=_p.getSpId(),n=_p.getSpName(),s=_p.getPoNum(),a=$.cookie("splgckie")
supplierId=t,supplierName=n,selected_PoNum=s,flip&&(_p.enableDisableSubmitButton(!1),_p.submitFlip(e,i,t,n,s,a))},submitFlip:function(e,i,t,n,s,a){var o=registeredDomain2+"upload.php?app="+e+"&dm="+i+"&spId="+t+"&spName="+n+"&poNum="+s+"&user="+a
$.ajax({url:o,type:"POST",cache:!1,headers:{"cache-control":"no-cache"},success:function(){$("#flipped").show().fadeOut(1550,function(){var e=activeApp
activeApp=e,_p.hideDropArea(),_p.loadAppData(e,!1)})},error:function(){}})},hideDropArea:function(){$("#showDropArea").text("Upload Image(s)"),$("#dropzone1").hide(),$("#dropzone2").hide(),$("#dropzone").hide(),$("#batchzone").show(),_p.enableDisableSubmitButton(!1)},showFlipArea:function(){$("#uploadtag").text("Flip PO for "+activeApp.substring(activeApp.indexOf("_")+1)),$("#uploadSubmitBtnEnabled").text("Flip"),$("#dropzone").show(),$("#dropzone1").show(),$("#dropzone2").hide(),$("#batchzone").hide(),_p.enableDisableSubmitButton(!1)},showDropArea:function(){$("#uploadtag").text("Upload images for "+activeApp.substring(activeApp.indexOf("_")+1)),$("#uploadSubmitBtnEnabled").text("Upload"),$("#dropzone").show(),$("#dropzone1").show(),$("#dropzone2").hide(),$("#batchzone").hide(),_p.enableDisableSubmitButton(!1)},runAllValidations:function(){for(var e=0;e<=fieldsToValidate.length-1;e++){var i=fieldsToValidate[e],t="#"+_p.fieldToId(i),n=$(t).attr("id"),s=$(t).val(),a=activeApp.substring(activeApp.indexOf("_")+1),o=activeApp.substring(0,activeApp.indexOf("_"))
_p.runFieldValidation(n,s,a,o,canEditFields,!1)}},getCollectionName:function(){return $("#viewerCollection").text()},getFieldStr:function(e){for(var i="c_"+_p.getCollectionName()+"|"+e+"|",t=0;t<=fieldsToValidate.length-1;t++){var n=fieldsToValidate[t],s="#"+_p.fieldToId(n),a=$(s).attr("id"),o=$(s).val(),r=""
a=a.replace("__","$"),r=t<fieldsToValidate.length-1?a+"="+o+"|":a+"="+o,i+=r}return i},getSupAdmin:function(e){for(var i="",t=0;t<=supAdminsList.length-1;t++){var n=supAdminsList[t]
if(n.toLowerCase().indexOf(e.toLowerCase())>=0){var s=n.split("=")
i=s[1]
break}}return i},getUserTables:function(){var e=[],i=_p.getCollectionName(),t=activeApp.substring(0,activeApp.indexOf("_"))
if($.inArray(t,suppliersList)>=0){var n=_p.getSupAdmin(t)
""!==n&&e.push(n)}if(submittedByList.length>0)for(var s=0;s<=submittedByList.length-1;s++){var a=submittedByList[s],o=a.split("|"),r=o[0],l=o[1]
r===i&&t.toLowerCase()!==l.toLowerCase()&&e.push(l)}return e},submitOrNot:function(){timer=$.timer(function(){if(validationFailed)timer.stop(),$.createNotification({horizontal:"right",vertical:"bottom",content:"<strong>Batch NOT submitted</strong><br /><br />Some fields failed validation<br /><br />Please check",duration:2500})
else{timer.stop()
var e=_p.getUserTables(),i=_p.getFieldStr(activeApp),t="/k4e2550htyjrtyj4345435/radkiddo/eafa/sp/efl/timgsys/api/cd/submitbatch"
$.ajax({url:t,type:"POST",cache:!1,data:"details="+i+"&replace=true",headers:{"cache-control":"no-cache"},success:function(){_p.loadAppData(activeApp,!1),_p.hideViewer(),$.createNotification({horizontal:"right",vertical:"bottom",content:"<strong>Success</strong><br /><br />Hooray!<br /><br />Batch submitted",duration:2500})
var n=activeApp.substring(0,activeApp.indexOf("_")),s=activeApp.substring(activeApp.indexOf("_")+1)
_p.updateOtherTables(i,activeApp,s,n,t,e)},error:function(){}})}}),timer.set({time:1500,autostart:!0})},updateOtherTables:function(e,i,t,n,s,a){if(a.length>0)for(var o=0;o<=a.length-1;o++){var r=a[o],l=r+"_"+t
e=e.replace(i,l),$.ajax({url:s,type:"POST",cache:!1,data:"details="+e+"&replace=true",headers:{"cache-control":"no-cache"},success:function(){},error:function(){}})}},submitBatch:function(){validationFailed=!1,_p.runAllValidations(),_p.submitOrNot()},splitFieldInTwoLines:function(e){var i=""
return i=e.indexOf("__")>=0?e.substring(0,e.indexOf("__"))+"<br />"+e.substring(e.indexOf("__")):e},runFieldValidation:function(e,i,t,n,s,a){if(s){var o=registeredValidations+"validations.php",r=new easyXDM.Socket({remote:o,onMessage:function(i){""!==i&&(validationFailed=!0,a&&$.createNotification({horizontal:"right",vertical:"bottom",content:"<strong>["+_p.splitFieldInTwoLines(e)+"]</strong><br /><br />Not correct: <br /><br />"+i,duration:2500}))}})
r.postMessage(e+"|"+i+"|"+t+"|"+n)}},activateOrNotLiveSync:function(){liveSync=0===_p.getCurrentTablePage()?!0:!1}}
portal.hideDropArea=function(){_p.hideDropArea()},portal.initTable=function(){liveSync=!0,activeApp="",_p.getRegisteredDomains(),_p.getAdminsList()
var e=$.timer(function(){!_p.isLoggedIn()&&window.location.href.indexOf("#/portal")>=0&&(window.location.href="#/")})
e.set({time:1500,autostart:!0}),$("#portaldiv").is(":visible")&&(_p.enableDisableSubmitButton(!1),_p.loadProcess(),timer=$.timer(function(){_p.activateOrNotLiveSync(),liveSync&&_p.isLoggedIn()&&activeApp!==undefined&&""!==activeApp&&"undefined"!==activeApp&&$("#portaldiv").is(":visible")&&_p.loadAppData(activeApp,!1)}),timer.set({time:15e3,autostart:!0}))},$("#showHelp").click(function(e){return e.preventDefault(),introJs().start(),!1}),$("#liveSync").click(function(e){return e.preventDefault(),"Live Sync: ON"===$("#liveSync").text()?(liveSync=!1,$("#liveSync").text("Live Sync: OFF")):(liveSync=!0,$("#liveSync").text("Live Sync: ON")),!1}),$("#showDropArea").click(function(e){return e.preventDefault(),"Upload Image(s)"===$("#showDropArea").text()?(_p.showDropArea(),flip=!1,_p.supplierPoWin(!1)):_p.hideDropArea(),!1}),$("#uploadSubmitBtnEnabled").click(function(e){return e.preventDefault(),$("#showDropArea").text("Hide DropZone"),_p.sendSubmitUpload(),!1}),$("#uploadSuppliers").on("change",function(){var e=($("option:selected",this),this.value)
_p.loadPOs4Supplier(e,!1),supplierId=e,supplierName=$("#uploadSuppliers option:selected").text()}),$("#uploadPOs").on("change",function(){$("option:selected",this),this.value
supplierId=$("#uploadSuppliers option:selected").val(),supplierName=$("#uploadSuppliers option:selected").text()}),$("#fieldsListViewer1").on("keyup","input",function(e){if(13===e.keyCode){var i=$(this).attr("id"),t=$(this).val(),n=activeApp.substring(activeApp.indexOf("_")+1),s=activeApp.substring(0,activeApp.indexOf("_"))
validationFailed=!1,_p.runFieldValidation(i,t,n,s,canEditFields,!0)}}),$("#fieldsListViewer2").on("keyup","input",function(e){if(13===e.keyCode){var i=$(this).attr("id"),t=$(this).val(),n=activeApp.substring(activeApp.indexOf("_")+1),s=activeApp.substring(0,activeApp.indexOf("_"))
validationFailed=!1,_p.runFieldValidation(i,t,n,s,canEditFields,!0)}}),$("#fieldsListViewer2").delegate("a","click",function(e){e.preventDefault()
var i=$(this),t=i.parent("li").children("div")
return i.parent("li").hasClass("active")?(t.slideUp(1),$(this).parent("li").removeClass("active")):(t.slideDown(1),$(this).parent("li").addClass("active"),currentPage=_p.getFormNum($(this).text()),_p.sendPageNum(currentPage,imageUrl)),!1}),$("#colleclist").delegate("a","click",function(e){e.preventDefault()
var i=$(this).attr("href"),t=$(this).text()
return"View"===t?(canEditFields=!1,$("#submitBatch").text("")):("Edit"===t||"ReEdit"===t)&&(canEditFields=!0,validationFailed=!1,$("#submitBatch").text("Save Batch")),i!==undefined&&($("#showHelp").hide(),_p.showViewer(i.replace("c_",""))),!1}),$("#eFlowAppsList").delegate("a","click",function(e){e.preventDefault()
var i=login.getDomain()+"_"+$(this).text()
return activeApp=i,_p.hideDropArea(),_p.loadAppData(i,!1),!1}),$("#submitBatch").click(function(e){return e.preventDefault(),""!==$("#submitBatch").text()&&_p.submitBatch(),!1}),$("#flipPoLink").click(function(e){return e.preventDefault(),flip=!0,_p.showFlipArea(),_p.supplierPoWin(!1),$("#showDropArea").text("Upload Image(s)"),!1}),$("#backToList").click(function(e){return e.preventDefault(),_p.hideViewer(),$("#showHelp").show(),!1}),$("#backToMain").click(function(e){return e.preventDefault(),_p.hideUpload(),!1}),$("#toggleFields").click(function(e){return e.preventDefault(),"Hide Fields"===$("#toggleFields").text()?($("#fillDiv").removeClass("page fill").addClass("page full"),$("#snappedDiv").hide(),$("#toggleFields").text("Show Fields")):($("#fillDiv").removeClass("page full").addClass("page fill"),$("#snappedDiv").show(),$("#toggleFields").text("Hide Fields")),!1})}(window.login,window.portal=window.portal||{},window.jQuery),function(e,i,t){t("#logoutButtonEnabled").click(function(){var i=t.cookie("splgckie")
return null!==i&&t.removeCookie("splgckie",i,{expires:1,path:"/"}),e.cleanUpEFlowApps(),window.location.href="#/login",!1})}(window.portal,window.logout=window.logout||{},window.jQuery),function(e,i){var t={cStrengthSettingsPwdStrength:function(e){gb.cStrengthPwdStrength(e,"#settingsPwdStrength")},cStrengthSettingsPwdRetypeStrength:function(e){gb.cStrengthPwdRetypeStrength(e,"#settingsPwdRetypeStrength")},hideSettingsUserExceptionOnKey:function(){i("#settingsUserException").is(":visible")&&i("#settingsUserException").hide()},hideAllSettingsMesssages:function(){t.hideSettingsUserExceptionOnKey()},clearFields:function(){i("#settingsfirstName").val(""),i("#settingslastName").val(""),i("#settingsPassword").val(""),i("#settingsPasswordRetyped").val("")},NotEmpty:function(){return""!==i("#settingsfirstName").val()&&""!==i("#settingslastName").val()&&""!==i("#settingsPassword").val()&&""!==i("#settingsPasswordRetyped").val()?!0:!1},ShowSignUpBtn:function(){i("#settingsButtonEnabled").removeAttr("disabled").removeClass("standart bg-color-gray").addClass("standart default bg-color-blue")},HideSignUpBtn:function(){i("#settingsButtonEnabled").attr("disabled","").removeClass("standart default bg-color-blue").addClass("standart bg-color-gray")},ShowHidePwdNoMatch:function(){""===i("#settingsPassword").val()&&""===i("#settingsPasswordRetyped").val()?i("#settingsPwdNoMatch").text(""):t.PwdNoMatch()?(i("#settingsPwdNoMatch").text("Passwords match"),i("#settingsPwdNoMatch").removeClass("smallText").removeClass("smallWeek").addClass("smallStrong")):(i("#settingsPwdNoMatch").text("Passwords do not match"),i("#settingsPwdNoMatch").removeClass("smallText").removeClass("smallStrong").addClass("smallWeek"))},PwdNoMatch:function(){return i("#settingsPassword").val()===i("#settingsPasswordRetyped").val()?!0:!1},ShowOrHideBth:function(){t.NotEmpty()&&t.PwdNoMatch()?t.ShowSignUpBtn():t.HideSignUpBtn()},ClearPwds:function(){i("#settingsPassword").val(""),i("#settingsPasswordRetyped").val(""),i("#settingsPwdStrength").text(""),i("#settingsPwdRetypeStrength").text(""),i("#settingsPwdNoMatch").text("")},unhandledSettingsException:function(){i("#settingsUserException").show().delay(10500).fadeOut("slow",function(){}),t.ClearPwds(),t.HideSignUpBtn(),i("#settingsPassword").focus()},assignFields:function(e){var n=e.split("|")
t.hasLoaded=!0,null!==n&&2===n.length&&(i("#settingsfirstName").val(gb.replaceAll(n[0],'"',"")),i("#settingslastName").val(gb.replaceAll(n[1],'"',""))),i("#settingsPassword").focus()},couldLoadUserSettings:function(){i("#usersettingsdiv").show(),i("#usersettingsfaileddiv").hide()},couldNotLoadUserSettings:function(){i("#usersettingsdiv").hide(),i("#usersettingsfaileddiv").show()},loadData:function(){var e=unescape(i.cookie("splgckie"))
i.ajax({url:"/k4e2550htyjrtyj4345435/usersettings/p/load",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"un="+escape(e),success:function(e){var i=JSON.stringify(e)
!i.indexOf("not loaded")>=0?t.showSettingsDiv(i):t.couldNotLoadUserSettings()},error:function(){t.couldNotLoadUserSettings()}})},initSettingsDiv:function(){t.loadData()},clearAll:function(){t.hideAllSettingsMesssages(),t.ClearPwds(),i("#settingsfirstName").val(""),i("#settingslastName").val(""),t.HideSignUpBtn(),i("#settingsPassword").focus()},showSettingsDiv:function(e){t.assignFields(e),t.couldLoadUserSettings(),t.hideAllSettingsMesssages(),t.ClearPwds(),i("#settingsPassword").focus()},settingsOk:function(e,n,s){i.cookie("splgckie",unescape(s),{expires:1,path:"/"})
var a=unescape(i.cookie("splgckie"))
a.indexOf("@")>=0&&i("#portalSmall").text(gb.capitalize(a)),t.clearAll(),window.location.href="#/portal"},settingsBtnClick:function(){if(t.NotEmpty()&&t.PwdNoMatch()){t.HideSignUpBtn()
var e=i("#settingsfirstName").val(),n=i("#settingslastName").val(),s=i("#settingsPassword").val(),a=unescape(i.cookie("splgckie"))
i.ajax({url:"/kChUTqbUjO2DtKgXLG4LIjzzLd",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"txt="+escape(s),success:function(s){var o=s,r="fn="+escape(e)+"&ln="+escape(n)+"&un="+escape(a)+"&pwd="+escape(o)+"&to="+escape(a)
i.ajax({url:"/k4e2550htyjrtyj4345435/usersettings/do",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:r,success:function(i){var s=JSON.stringify(i)
s.indexOf("settings saved")>=0?t.settingsOk(e,n,a):t.unhandledSettingsException()},error:function(){t.unhandledSettingsException()}})},error:function(){t.unhandledSettingsException()}})}return!1}}
e.initSettingsDiv=function(){t.initSettingsDiv()},i("#settingsButtonEnabled").click(function(){return t.settingsBtnClick(),!1}),i("#settingsPassword").keyup(function(e){13!==e.which&&t.hideAllSettingsMesssages(),t.ShowOrHideBth(),t.ShowHidePwdNoMatch(),""!==i("#settingsPassword").val()?t.cStrengthSettingsPwdStrength(i("#settingsPassword").val()):i("#settingsPwdStrength").text("")}),i("#settingsPasswordRetyped").keyup(function(e){13!==e.which&&t.hideAllSettingsMesssages(),t.ShowOrHideBth(),t.ShowHidePwdNoMatch(),""!==i("#settingsPasswordRetyped").val()?t.cStrengthSettingsPwdRetypeStrength(i("#settingsPasswordRetyped").val()):i("#settingsPwdRetypeStrength").text("")}),i("#settingsPassword").focusout(function(){""!==i("#settingsPassword").val()?t.cStrengthSettingsPwdStrength(i("#settingsPassword").val()):i("#settingsPwdStrength").text("")}),i("#settingsPasswordRetyped").focusout(function(){""!==i("#settingsPasswordRetyped").val()?t.cStrengthSettingsPwdRetypeStrength(i("#settingsPasswordRetyped").val()):i("#settingsPwdRetypeStrength").text("")}),i("#settingsfirstName").keypress(function(e){13===e.which&&""!==i("#settingsfirstName").val()&&i("#settingslastName").focus()}),i("#settingsfirstName").keyup(function(e){13!==e.which&&t.hideAllSettingsMesssages(),t.ShowOrHideBth()}),i("#settingslastName").keypress(function(e){13===e.which&&""!==i("#settingslastName").val()&&i("#settingsPassword").focus()}),i("#settingsfirstName").on("input",function(){t.hideAllSettingsMesssages(),t.ShowOrHideBth()}),i("#settingslastName").keyup(function(e){13!==e.which&&t.hideAllSettingsMesssages(),t.ShowOrHideBth()}),i("#settingslastName").on("input",function(){t.hideAllSettingsMesssages(),t.ShowOrHideBth()}),i("#settingsPassword").keypress(function(e){13===e.which&&""!==i("#settingsPassword").val()&&i("#settingsPasswordRetyped").focus()}),i("#settingsPasswordRetyped").keypress(function(e){13===e.which&&t.NotEmpty()&&i("#settingsButtonEnabled").trigger("click")})}(window.usersettings=window.usersettings||{},window.jQuery),function(e,i){var t={hideRecoverUserFoundOnKey:function(){i("#recoverUserFoundDiv").is(":visible")&&i("#recoverUserFoundDiv").hide()},showRecoverUserFoundOnKey:function(){i("#recoverUserFoundDiv").show()},hideRecoverUserNotFoundOnKey:function(){i("#recoverUserNotFoundDiv").is(":visible")&&i("#recoverUserNotFoundDiv").hide()},showRecoverUserNotFoundOnKey:function(){i("#recoverUserNotFoundDiv").show()},hideRecoverUserExceptionOnKey:function(){i("#recoverUserException").is(":visible")&&i("#recoverUserException").hide()},showRecoverUserExceptionOnKey:function(){i("#recoverUserException").show()},hideAllRecoverMesssages:function(){t.hideRecoverUserNotFoundOnKey(),t.hideRecoverUserExceptionOnKey(),t.hideRecoverUserFoundOnKey()},showRecoverButton:function(){i("#recoverButtonEnabled").removeAttr("disabled").removeClass("standart bg-color-gray").addClass("standart default bg-color-blue")},hideRecoverButton:function(){i("#recoverButtonEnabled").attr("disabled","").removeClass("standart default bg-color-blue").addClass("standart bg-color-gray")},baseRecoverDiv:function(){i("#recoverEmail").val(""),i("#recoverEmailMsg").text(""),t.hideRecoverButton()},initRecoverDiv:function(){t.baseRecoverDiv(),t.hideAllRecoverMesssages(),i("#recoverEmail").focus()},showHideRecoverButton:function(e,i){e&&i?t.showRecoverButton():t.hideRecoverButton()},showHideEmailMsg:function(e,i){gb.showHideEmailMsg(e,i,"#recoverEmailMsg")},recovered:function(){t.initRecoverDiv(),window.location.href="#/recovered"},userNotFound:function(){i("#recoverUserNotFoundDiv").show().delay(10500).fadeOut("slow",function(){}),t.baseRecoverDiv()},unhandledRecoverException:function(){i("#recoverUserException").show().delay(10500).fadeOut("slow",function(){}),t.hideRecoverButton(),i("#recoverEmail").focus()},recoverBtnClick:function(){var e=i("#recoverEmail").val()
return""!==e&&(t.hideRecoverButton(),i.ajax({url:"/recover/do",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:"to="+escape(e),success:function(e){var i=JSON.stringify(e)
i.indexOf("recovered OK")>=0?t.recovered():t.userNotFound()},error:function(){t.unhandledRecoverException()}})),!1},fieldChange:function(e){var n=gb.validateEmail(i("#recoverEmail").val()),s=!gb.validateFreeEmail(i("#recoverEmail").val())
t.showHideRecoverButton(n,s),t.hideAllRecoverMesssages(),t.showHideEmailMsg(n,s),13===e.which&&i("#recoverButtonEnabled").trigger("click")}}
i("#recoverEmail").on("input",function(e){t.fieldChange(e)}),i("#recoverEmail").focusout(function(){if(""===i("#recoverEmail").val())i("#recoverEmailMsg").text("")
else{var e=i("#recoverEmail").val()
e=gb.cleanField(e),i("#recoverEmail").val(e.toLowerCase())}}),i("#recoverEmail").keyup(function(e){t.fieldChange(e)}),i("#recoverButtonEnabled").click(function(){return t.recoverBtnClick(),!1}),e.initRecoverDiv=function(){t.initRecoverDiv()}}(window.recover=window.recover||{},window.jQuery),function(e,i){var t={toggleSlide:function(){i("#slide1").is(":visible")?(i("#slide1").delay(100).hide(),i("#slide2").show()):(i("#slide2").delay(100).hide(),i("#slide1").show())},nextSlide:function(){t.toggleSlide()},start:function(){i("#slide2").show(),window.setInterval(function(){t.toggleSlide()},5e3)}}
e.start=function(){t.start()},i("#backSlide").click(function(){t.nextSlide()}),i("#nextSlide").click(function(){t.nextSlide()})}(window.carousels=window.carousels||{},window.jQuery),function(e,i,t,n,s,a,o,r,l){var d=!1,u=window.location.hash.slice(2),p={menuMain:function(){l("#MenuMainDiv").show(),l("#MenuPortalDiv").hide(),l("#MenuLogoutDiv").hide()},menuPortal:function(){l("#MenuMainDiv").hide(),l("#MenuPortalDiv").show(),l("#MenuLogoutDiv").hide()},menuLogout:function(){l("#MenuMainDiv").hide(),l("#MenuPortalDiv").hide(),l("#MenuLogoutDiv").show()},hideAll:function(){l("#page-index").hide(),l("#logindiv").hide(),l("#logoutdiv").hide(),l("#aboutdiv").hide(),l("#featuresdiv").hide(),l("#faqsdiv").hide(),l("#signupdiv").hide(),l("#adminsignupdiv").hide(),l("#howdiv").hide(),l("#portaldiv").hide(),l("#page404div").hide(),l("#activationFailedDiv").hide(),l("#approvalFailedDiv").hide(),l("#alreadyActivatedDiv").hide(),l("#alreadyApprovedDiv").hide(),l("#activationSuccessfulDiv").hide(),l("#approvalSuccessfulDiv").hide(),l("#signupActivationDiv").hide(),l("#signupPendingDiv").hide(),l("#recoverdiv").hide(),l("#recovereddiv").hide(),l("#usersettingsdiv").hide(),l("#usersettingsfaileddiv").hide(),l("#viewerdiv").hide()},notFound:function(){window.location.href=p.isLoggedIn()?"#/portal":"#/"},aboutPage:function(){p.menuMain(),p.hideAll(),l("#aboutdiv").show()},capitalize:function(e){return e.indexOf("@")>=0&&(e=gb.capitalize(e)),e},welcome:function(){var e=unescape(l.cookie("splgckie"))
l("#portalSmall").text(p.capitalize(e)),a.setDomain(e)},portalPage:function(){p.isLoggedIn()?(d=!1,p.menuPortal(),p.hideAll(),l("#portaldiv").show(),l("#batchzone").show(),p.welcome(),i.hideDropArea(),i.initTable()):window.location.href="#/login"},featuresPage:function(){p.menuMain(),p.hideAll(),l("#featuresdiv").show()},faqsPage:function(){p.menuMain(),p.hideAll(),l("#faqsdiv").show()},isLoggedIn:function(){return l.cookie("splgckie")?!0:!1},loginPage:function(){p.isLoggedIn()?window.location.href="#/portal":(p.menuMain(),p.hideAll(),l("#logindiv").show(),a.initLoginDiv())},recoverPage:function(){p.menuMain(),p.hideAll(),l("#recoverdiv").show(),s.initRecoverDiv()},recoveredPage:function(){p.menuMain(),p.hideAll(),l("#recovereddiv").show()},logoutPage:function(){p.isLoggedIn()?(i.hideDropArea(),p.menuLogout(),p.hideAll(),l("#logoutdiv").show()):window.location.href="#/login"},signupPage:function(){p.menuMain(),p.hideAll(),l("#SignUpTitle").text("Supplier Sign Up"),l("#signupdiv").show(),o.initSignupDiv()},adminSignup:function(){p.menuMain(),p.hideAll(),l("#SignUpTitle").text("Admin Sign Up"),l("#signupdiv").show(),o.initSignupDiv()},homePage:function(){p.isLoggedIn()?window.location.href="#/portal":(p.menuMain(),p.hideAll(),l("#page-index").show())},howPage:function(){p.menuMain(),p.hideAll(),l("#howdiv").show()},page404:function(){p.menuMain(),p.hideAll(),l("#page404div").show()},render404:function(){window.location.href="#/404"},activationFailedPage:function(){p.menuMain(),p.hideAll(),l("#activationFailedDiv").show()},approvalFailedPage:function(){p.menuMain(),p.hideAll(),l("#approvalFailedDiv").show()},alreadyActivated:function(){p.menuMain(),p.hideAll(),l("#alreadyActivatedDiv").show()},alreadyApproved:function(){p.menuMain(),p.hideAll(),l("#alreadyApprovedDiv").show()},activationSuccessful:function(){p.menuMain(),p.hideAll(),l("#activationSuccessfulDiv").show()},approvalSuccessful:function(){p.menuMain(),p.hideAll(),l("#approvalSuccessfulDiv").show()},signupActivation:function(){p.menuMain(),p.hideAll(),l("#signupActivationDiv").show()},signupPending:function(){p.menuMain(),p.hideAll(),l("#signupPendingDiv").show()},usersettingsPage:function(){p.isLoggedIn()?(p.menuPortal(),p.hideAll(),i.hideDropArea(),n.initSettingsDiv()):window.location.href="#/login"},route2Page:function(e){""===e&&window.location.href.indexOf("#/")<0?(window.location.href+="#/",p.homePage()):"about"===e?p.aboutPage():"features"===e?p.featuresPage():"faqs"===e?p.faqsPage():"login"===e?p.loginPage():"recover"===e?p.recoverPage():"recovered"===e?p.recoveredPage():"signup"===e||"usersignup"===e?p.signupPage():"adminsignup"===e?p.adminSignup():"how"===e?p.howPage():"portal"===e?p.portalPage():"logout"===e?p.logoutPage():"404"===e?p.page404():"activationfailed"===e?p.activationFailedPage():"approvalfailed"===e?p.approvalFailedPage():"activationusernotfound"===e?p.alreadyActivated():"approvalusernotfound"===e?p.alreadyApproved():"activationsuccessful"===e?p.activationSuccessful():"signupactivation"===e?p.signupActivation():"signuppending"===e?p.signupPending():"usersettings"===e?p.usersettingsPage():"approvalsuccessful"===e&&p.approvalSuccessful()}},c={"/":p.homePage,"/about":p.aboutPage,"/features":p.eaturesPage,"/faqs":p.faqsPage,"/login":p.loginPage,"/recover":p.recoverPage,"/recovered":p.recoveredPage,"/signup":p.signupPage,"/usersignup":p.signupPage,"/adminsignup":p.adminSignup,"/how":p.howPage,"/portal":p.portalPage,"/logout":p.logoutPage,"/404":p.page404,"/activationfailed":p.activationFailedPage,"/approvalfailed":p.approvalFailedPage,"/activationusernotfound":p.alreadyActivated,"/approvalusernotfound":p.alreadyApproved,"/activationsuccessful":p.activationSuccessful,"/approvalsuccessful":p.approvalSuccessful,"/signupactivation":p.signupActivation,"/signuppending":p.signupPending,"/usersettings":p.usersettingsPage}
r.start=function(){var e=new Router(c).configure({notfound:p.render404})
e.init(),p.route2Page(u)}}(window.adminsignup,window.portal,window.viewer,window.usersettings,window.recover,window.login,window.signup,window.routing=window.routing||{},window.jQuery),jQuery.browser.mobile||gb.doReject(),routing.start(),carousels.start()}(window.jQuery)
